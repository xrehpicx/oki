(this.webpackJsonpoki=this.webpackJsonpoki||[]).push([[0],{86:function(e,n,t){},87:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=87},92:function(e,n,t){},97:function(e,n,t){},98:function(e,n,t){"use strict";t.r(n);var c=t(3),i=t(0),o=t(16),r=t.n(o),a=(t(86),t(42)),s=t(11),l=t(46),u=t(9),d=t(121),j=t(122),h=t(73),f=t.n(h),b=t(56),O=t(118),v=t(68),p=t.n(v),g=t(76),x=t(69),m=t.n(x),w=Object(i.createContext)({});function k(e){var n=e.children,t=Object(i.useState)(),o=Object(s.a)(t,2),r=o[0],a=o[1],l=Object(u.g)();return Object(i.useEffect)((function(){var e=new p.a(Object(g.a)(5),{host:"ciapeer.herokuapp.com",secure:!0});e.on("open",(function(n){a(e),console.log(n),m.a.setItem("peerid",n)})),e.on("error",(function(e){"unavailable-id"===e.type&&window.location.reload()}))}),[]),Object(i.useEffect)((function(){var e=l.listen((function(e){console.log(e)}));return function(){e()}}),[l]),Object(c.jsx)(w.Provider,{value:{peer:r},children:n})}t(92);function C(){return Object(c.jsx)("div",{className:"session",children:"test"})}function y(){var e=Object(i.useContext)(w).peer,n=Object(b.useSpring)((function(){return{transform:"scale(1)",opacity:1}})),t=Object(s.a)(n,2),o=t[0],r=t[1],a=Object(u.g)();return Object(i.useEffect)((function(){e&&e.id&&a&&r({transform:"scale(0.5)",opacity:0,delay:1500}).then((function(){a.push("/profile")}))}),[r,e,a]),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(O.animated.div,{className:"landing",style:o,children:[Object(c.jsx)(N,{}),Object(c.jsx)("p",{children:"Anonymous communication"})]})})}function F(){var e=Object(i.useContext)(w).peer;return e?Object(c.jsx)(O.animated.div,{className:"profile",children:Object(c.jsxs)("header",{children:[Object(c.jsx)(d.a,{title:"your id",placement:"right",children:Object(c.jsx)("span",{className:"myid",children:e.id})}),Object(c.jsx)(j.a,{"aria-label":"",onClick:function(){},children:Object(c.jsx)(f.a,{})})]})}):Object(c.jsx)(u.a,{to:"/"})}function N(e){var n=function(){return Object(c.jsxs)("svg",Object(a.a)(Object(a.a)({width:177,height:99,viewBox:"0 0 177 99"},e),{},{children:[Object(c.jsx)("title",{children:"Group 2"}),Object(c.jsxs)("g",{fill:"#517DFF",fillRule:"evenodd",children:[Object(c.jsx)(O.animated.path,{d:"M0 49.638c0-8.917 2.206-17.19 6.618-24.82 4.413-7.629 10.41-13.672 17.994-18.13C32.196 2.228 40.446 0 49.362 0c8.917 0 17.19 2.23 24.82 6.687 7.629 4.459 13.672 10.502 18.13 18.132C96.772 32.449 99 40.72 99 49.638c0 8.916-2.23 17.166-6.687 24.75C87.854 81.97 81.81 87.969 74.18 92.382 66.551 96.794 58.28 99 49.362 99c-9.008 0-17.281-2.137-24.819-6.412-7.537-4.274-13.512-10.157-17.925-17.649C2.206 67.448 0 59.014 0 49.638zm3-.362c0 8.387 2.08 16.174 6.241 23.362 4.16 7.189 9.762 12.88 16.803 17.072C33.086 93.903 40.721 96 48.951 96c8.505 0 16.369-2.097 23.593-6.29s12.94-9.883 17.146-17.072C93.897 65.45 96 57.617 96 49.138c0-8.386-2.103-16.196-6.31-23.43-4.206-7.235-9.899-12.995-17.077-17.28C65.434 4.143 57.684 2 49.363 2c-8.596 0-16.437 2.166-23.525 6.497-7.087 4.331-12.665 10.137-16.734 17.418C5.034 33.195 3 40.982 3 49.276z",fillRule:"nonzero"}),Object(c.jsx)("path",{d:"M174.416 48.994v49.518h-2.62V48.994zM170.224 33.405c0-.786.284-1.463.851-2.03.568-.568 1.289-.852 2.162-.852.786 0 1.463.284 2.03.852.568.567.852 1.244.852 2.03 0 .786-.284 1.463-.852 2.03-.567.568-1.244.852-2.03.852-.786 0-1.485-.306-2.096-.917s-.917-1.266-.917-1.965z"}),Object(c.jsx)("g",{children:Object(c.jsx)("path",{d:"M128.21 69.168l-9.431 8.908v20.436h-2.62V0h2.62v75.063l28.95-26.986 1.704 1.441-19.257 17.947 22.663 31.047h-3.013z"})})]})]}))};return Object(c.jsx)(n,{})}var E=function(){return Object(c.jsx)("div",{className:".home",children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{exact:!0,path:"/",children:Object(c.jsx)(y,{})}),Object(c.jsx)(u.b,{path:"/profile",children:Object(c.jsx)(F,{})}),Object(c.jsx)(u.b,{path:"/session:id",children:Object(c.jsx)(C,{})})]})})},S=t(74),W=t(120);t(97);var D=function(){var e=Object(i.useState)("light"),n=Object(s.a)(e,2),t=n[0],o=(n[1],Object(S.a)({palette:{type:t,primary:{main:"#517DFF",light:"#517DFF",dark:"#517DFF"},background:{default:"dark"===t?"#12192F":"white"}}}));return Object(c.jsx)(l.a,{basename:"/oki",children:Object(c.jsx)(k,{children:Object(c.jsx)(W.a,Object(a.a)(Object(a.a)({},{theme:o}),{},{children:Object(c.jsx)(E,{})}))})})},z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,123)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,o=n.getLCP,r=n.getTTFB;t(e),c(e),i(e),o(e),r(e)}))};r.a.render(Object(c.jsx)(D,{}),document.getElementById("root")),Notification.requestPermission((function(e){})),function(e){if("serviceWorker"in navigator){if(new URL("/oki",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/oki","/service-worker.js");z?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var c=t.headers.get("content-type");404===t.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):P(n,e)}))}}(),L()}},[[98,1,2]]]);
//# sourceMappingURL=main.b300a3ab.chunk.js.map